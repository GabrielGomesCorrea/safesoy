<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BobIA</title>
    <link rel="stylesheet" href="css/bobia.css">
    <script src="../BobIA-1.0.2/main.js"></script>
</head>

<body>
    <div class="pai">

        <div class="instrucoes">
            <h1>Bem vindo ao nosso suporte com <samp style="color: #DFC900;">inteligência artificial</samp>!</h1>
            <h3>Faça qualquer pergunta relacionada ao dispositivo de monitoramento.</h3>
            <div class="regras">
                <h1>Instruções:</h1>
                <p><b>1.</b> Seja bem específico ao fazer a pergunta;</p>
                <p><b>2.</b> A inteligência artificial foi desenvolvida para responder perguntas relacionadas ao sistema
                    de sensor DHT11;</p>
                <p><b>3.</b> Evite pergundas não relacionadas ao propósito da ferramenta;</p>

            </div>
            <button onclick="voltar()">Voltar</button>
        </div>

        <div id="container">
            <h1>Qual é a sua dúvida/problema?</h1>
            <textarea id="pergunta" type="text" placeholder="Digite a pergunta..."></textarea>
            <button onclick="gerarResposta()">Gerar Resposta</button>
            <h3>Resposta da IA:</h3>
            <div id="resposta"></div>
        </div>

    </div>

    <script>

        async function gerarResposta() {
            const pergunta = document.getElementById('pergunta').value;

            const response = await fetch('http://localhost:3334/perguntar', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ pergunta })
            });

            const data = await response.json();

            resposta.style.display = 'block';
            document.getElementById('resposta').innerText = data.resultado;
        }

        function voltar(){
            window.location = "SuperUsuario.html"
        }

    </script>
</body>

</html>